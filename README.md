fortdepend
==========

[![Build Status](https://travis-ci.org/ZedThree/fort_depend.py.svg?branch=master)](https://travis-ci.org/ZedThree/fort_depend.py)

A python script to automatically generate Fortran dependencies

Original script by D. Dickinson

Installation
============

You can install fortdepend with pip:

    pip install --user fortdepend

Usage
=====

Here's an example of how to use `fortdepend` in your makefiles:

    # Script to generate the dependencies
    MAKEDEPEND=/path/to/fortdepend

    # $(DEP_FILE) is a .dep file generated by fortdepend
    DEP_FILE = my_project.dep

    # Source files to compile
    OBJECTS = mod_file1.f90 \
              mod_file2.f90

    # Make sure everything depends on the .dep file
    all: $(actual_executable) $(DEP_FILE)

    # Make dependencies
    .PHONY: depend
    depend: $(DEP_FILE)

    # The .dep file depends on the source files, so it automatically gets updated
    # when you change your source
    $(DEP_FILE): $(OBJECTS)
        @echo "Making dependencies!"
        cd $(SRCPATH) && $(MAKEDEPEND) -w -o /path/to/$(DEP_FILE) -f $(OBJECTS)
        
    include $(DEP_FILE)
